LINE Massage APIを使って、ライン・email間でメッセージを中継するbotです。

#やっていること　
・LINEからwebhook受信⇒メアドにメール送信。  
友達追加時にはProfileAPIを叩いてユーザ名を取得⇒SpreadSheetに書き込み。  
グループ/トークルーム招待時にはユーザ名"unknown"として書き込み、後で手作業で名前を書き込む（泣）。  
  
・メアドからGmailにメール送信⇒5分に1回メールを検索して指定のメアドからの新規メールがあればline送信  
メールの題名が「友達一覧」であれば、SpreadSheetに記録してある友達のリストを返信する  
メールの題名がそれ以外であれば、SpreadSheetに記録してあるリストからuserIdを取得してPushAPIを叩く  
  
・適宜ログをspreedsheetに書き込み  
  
#長所  
・googleAppsScriptを使っているのでサーバレスで構築できる。SSL証明書も不要。  
・5分ごとにメールをチェックするので、iftttよりも早い  
  
#欠点  
・プログラムの実行にかかる時間が割と長く(3-4秒)、高頻度でやりとりしたときにちゃんと実行されるか不安。それもあって1分ごとではなく5分ごとに実行している。  
・APIの仕様上、グループ・トークルームではメッセージ発信者のuserIdが取得できないため、発信者がわからない。  
・せっかく公式がsdkを出しているのに使ってない。  
  
#新卒（18卒）で僕を雇って下さい（マジで）  
詳しくは以下をご覧くださいm(__)m  
http://freqmodu874.hatenadiary.com/entry/2017/03/16/033450
